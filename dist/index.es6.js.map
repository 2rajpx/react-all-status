{"version":3,"file":"index.es6.js","sources":["../src/index.js"],"sourcesContent":["/**\n * react-all-status\n *\n * Copyright Â© 2017 Tooraj Khatibi. All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\nimport { bool, func } from 'prop-types';\nimport { connect } from 'react-redux';\n\nconst createState = (stateName, initialState = {}) => {\n  /**\n   * ===========================================================================\n   * Selectors\n   * ===========================================================================\n   */\n  const isActive = (state, flag) => !!state[stateName][flag];\n\n  /**\n   * ===========================================================================\n   * Actions\n   * ===========================================================================\n   */\n  const TOGGLE = 'TOGGLE';\n  const toggle = flag => ({\n    type: TOGGLE,\n    stateName,\n    flag,\n  });\n  const ACTIVATE = 'ACTIVATE';\n  const activate = flag => ({\n    type: ACTIVATE,\n    stateName,\n    flag,\n  });\n  const DEACTIVATE = 'DEACTIVATE';\n  const deactivate = flag => ({\n    type: DEACTIVATE,\n    stateName,\n    flag,\n  });\n\n  /**\n   * ===========================================================================\n   * Reducer\n   * ===========================================================================\n   */\n  const reducer = (state = initialState, action) => {\n    if (stateName !== action.stateName) {\n      return state;\n    }\n    switch (action.type) {\n      case TOGGLE: {\n        const newState = { ...state };\n        newState[action.flag] = !state[action.flag];\n        return newState;\n      }\n      case ACTIVATE: {\n        const newState = { ...state };\n        newState[action.flag] = true;\n        return newState;\n      }\n      case DEACTIVATE: {\n        const newState = { ...state };\n        newState[action.flag] = false;\n        return newState;\n      }\n      default: {\n        return state;\n      }\n    }\n  };\n\n  /**\n   * ===========================================================================\n   * Prop Names\n   * ===========================================================================\n   */\n  const capitalize = (string) => string.charAt(0).toUpperCase() + string.slice(1);\n  const createValuePropName = (flag) => `${stateName}${capitalize(flag)}Value`;\n  const createTogglePropName = (flag) => `${stateName}${capitalize(flag)}Toggle`;\n  const createActivatePropName = (flag) => `${stateName}${capitalize(flag)}Activate`;\n  const createDeactivatePropName = (flag) => `${stateName}${capitalize(flag)}Deactivate`;\n  const createPropNames = (flag) => ({\n    value: createValuePropName(flag),\n    toggle: createTogglePropName(flag),\n    activate: createActivatePropName(flag),\n    deactivate: createDeactivatePropName(flag),\n  });\n\n  /**\n   * ===========================================================================\n   * Higer-order Component (HOC)\n   * ===========================================================================\n   */\n  const createHoC = (flags) => (component) => {\n    const mapStateToProps = (state) => {\n      const props = {};\n      flags.forEach((flag) => {\n        props[createValuePropName(flag)] = isActive(state, flag);\n      });\n      return props;\n    };\n    const mapDispatchToProps = (dispatch) => {\n      const props = {};\n      flags.forEach((flag) => {\n        props[createTogglePropName(flag)] = () => dispatch(toggle(flag));\n        props[createActivatePropName(flag)] = () => dispatch(activate(flag));\n        props[createDeactivatePropName(flag)] = () => dispatch(deactivate(flag));\n      });\n      return props;\n    };\n    return connect(mapStateToProps, mapDispatchToProps)(component);\n  };\n\n  /**\n   * ===========================================================================\n   * Prop Types\n   * ===========================================================================\n   */\n  const createPropTypes = (flag, requiredProps = []) => {\n    const propTypes = {};\n    const valueName = createValuePropName(flag);\n    const toggleName = createTogglePropName(flag);\n    const activateName = createActivatePropName(flag);\n    const deactivateName = createDeactivatePropName(flag);\n    propTypes[valueName] = requiredProps.indexOf(valueName) !== -1\n      ? bool.isRequired\n      : bool;\n    propTypes[toggleName] = requiredProps.indexOf(toggleName) !== -1\n      ? func.isRequired\n      : func;\n    propTypes[activateName] = requiredProps.indexOf(activateName) !== -1\n      ? func.isRequired\n      : func;\n    propTypes[deactivateName] = requiredProps.indexOf(deactivateName) !== -1\n      ? func.isRequired\n      : func;\n    return propTypes;\n  };\n\n  return {\n    TOGGLE,\n    ACTIVATE,\n    DEACTIVATE,\n    toggle,\n    activate,\n    deactivate,\n    isActive,\n    reducer,\n    createPropNames,\n    createValuePropName,\n    createTogglePropName,\n    createActivatePropName,\n    createDeactivatePropName,\n    createHoC,\n    createPropTypes,\n  };\n};\n\nexport default createState;\n"],"names":["createState","stateName","initialState","isActive","state","flag","TOGGLE","toggle","ACTIVATE","activate","DEACTIVATE","deactivate","reducer","action","type","newState","capitalize","string","charAt","toUpperCase","slice","createValuePropName","createTogglePropName","createActivatePropName","createDeactivatePropName","createPropNames","createHoC","flags","component","mapStateToProps","props","forEach","mapDispatchToProps","dispatch","connect","createPropTypes","requiredProps","propTypes","valueName","toggleName","activateName","deactivateName","indexOf","bool","isRequired","func"],"mappings":"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"}